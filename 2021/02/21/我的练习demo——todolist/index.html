<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="母猪养殖户">
    <meta name="keyword"  content="undefined">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        我的练习demo——todolist - 357的博客 | 357&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 母猪的产后护理学习中... </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar.png" />
        </div>
        <div class="name">
            <i>_357</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基本版本"><span class="toc-text">基本版本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#杂乱的思路"><span class="toc-text">杂乱的思路</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#js流程"><span class="toc-text">js流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#样式设计"><span class="toc-text">样式设计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添砖加瓦"><span class="toc-text">添砖加瓦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#想说的话"><span class="toc-text">想说的话</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> 母猪的产后护理学习中... </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        我的练习demo——todolist
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2021-02-21 19:09:40</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#demo" title="demo">demo</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#web前端" title="web前端">web前端</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <p>github : <a href="https://github.com/x9un/todolist" target="_blank" rel="noopener">https://github.com/x9un/todolist</a></p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在抄完github上的vanillaWenProject项目后，准备写个抄后感。</p>
<h2 id="基本版本"><a href="#基本版本" class="headerlink" title="基本版本"></a>基本版本</h2><p>基本的功能:add + done<br>需要的有  </p>
<ul>
<li>标题</li>
<li>添加框 - input + add 按钮</li>
<li>展示页面+页面上对应的完成按钮，也可以是复选框</li>
</ul>
<h3 id="杂乱的思路"><a href="#杂乱的思路" class="headerlink" title="杂乱的思路"></a>杂乱的思路</h3><ul>
<li>添加框和展示框各自属于一个div</li>
<li>展示页面上出现的todos属于一个list，由js控制生成</li>
<li>由localStorage进行缓存</li>
<li>对于输入空的操作，因为感觉弹出框不是很配这个 css 所以决定用 js 控制 small 标签来代替</li>
</ul>
<h4 id="js流程"><a href="#js流程" class="headerlink" title="js流程"></a>js流程</h4><ol>
<li>初始化:</li>
</ol>
<ul>
<li>list innerHTML clear</li>
<li>todos foreach 添加至DOM</li>
</ul>
<ol start="2">
<li>监听 button 后调用添加函数</li>
</ol>
<ul>
<li>push 进 localstorage 里缓存的 item 数组</li>
<li>添加节点</li>
<li>更新 localstorage</li>
<li>clear list 内容以便下次使用</li>
</ul>
<h4 id="样式设计"><a href="#样式设计" class="headerlink" title="样式设计"></a>样式设计</h4><ol>
<li>todo 的展示，container 使用组件提供，这样就可以框出一个框有利于todo的定位</li>
<li>利用 checkbox 实现todo 的 done 样式</li>
</ol>
<p><em>添加组件库自带的<code>nes-container is rounded</code>的时候发现边框会变成虚线，指定高宽度后就可以恢复正常</em></p>
<p><em>但是后面我发现了，这个样式库放大或缩小到一定比例就会出现”问题”…</em></p>
<p><em>组件库里的复选框和 span 里的文字老是高度对不齐…我怀疑是我的问题…先搁置了</em></p>
<h2 id="添砖加瓦"><a href="#添砖加瓦" class="headerlink" title="添砖加瓦"></a>添砖加瓦</h2><ul>
<li><p>删除 todo<br>当鼠标悬浮至 li 上时出现 x 图标并实现删除功能<br>随机为每个 todo 生成 id，通过相应 id 实现删除<br>在删除函数内原本加了 init() ，但是这种情况就会导致已勾选的部分再执行删除操作之后会回到未勾选的状态<br>直接 input 标签上 onclick 绑定函数，id 名设为 todo 对象的 id  </p>
</li>
<li><p>按回车键添加 todo<br>输入框事件处理  </p>
</li>
<li><p>添加 done 后样式<br>item 的 innerHTML 层级是 label -&gt; input,span<br>因为是即时变化，所以放在 ticked() 函数里，除此之外，还要注意初始化<br>这里直接对 input 的兄弟节点加 class 名，样式在 css 中定义<br>要注意是 nextElementSibling 而不是 nextSibling  </p>
</li>
<li><p>添加进度条<br>todo 完成后进度条，设计是每完成一个 item 后更新进度条，星之卡比 顶部会出现金币动画<br>因为这里加的星之卡比 icon 的 堆叠优先级高于 slider，所以 slider 想要和 icon 不重叠的话就要相对于上一级的 div 进行 position 定位。   </p>
</li>
</ul>
<p>主要问题是这里的各个 item 本身的金币动画时间和快速点击不同 item 之间时间的冲突，因为 js 本身单线程，它的东西都堆在队列里，然后用 setTimeout() 的话，时间又不一定是真正的时间(虽然可能差不多)<br>然后发现了 .animate() 可以解决问题…  </p>
<p>进度条的进度靠重新获取 localstorage 的 item ，不知道为啥监听不了。</p>
<ul>
<li>背景色变换<br>repeating-linear-gradient + animation css 实现<br>其实这个还有个小问题，但是先放着吧- -</li>
</ul>
<h2 id="想说的话"><a href="#想说的话" class="headerlink" title="想说的话"></a>想说的话</h2><p>应该到这里差不多基本结束了，懒得写了…<br>烦死了烦死了找不到实习了烦死了  </p>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/x9un">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script type="text/javascript">
       (function() {
           if (typeof LivereTower === 'function') { return; }

           var j, d = document.getElementById('lv-container');

           d.setAttribute('data-id','city');
           d.setAttribute('data-uid' , 'MTAyMC80ODAwNy8yNDUwNA==');

           j = document.createElement('script');
           j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
           j.async = true;

           d.appendChild(j);
       })();
    </script>
    <noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
    </div>

</html>
